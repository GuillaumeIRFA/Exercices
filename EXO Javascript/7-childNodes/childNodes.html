<!DOCTYPE html>

<html lang="fr">

<head>
    <title>Acces aux enfants</title>
    <style type="text/css">
        #citation {
            position: absolute;
            top: 50px;
            left: 50px;
        }
        
        #citation p {
            position: relative;
            top: 0px;
            left: 0px;
            color: black;
            font-weight: bold;
        }
    </style>
    <script type="text/javascript">
        let couleur = 0;

        function anime_paragraphe(element) {
            element.style.color = "rgb(" + String(couleur) + "%," + String(couleur) + "%," + String(couleur) + "%)"
            if (couleur < 90) {
                setTimeout(function() {
                    anime_paragraphe(element)
                }, 100);
                couleur++;
            }
            if (couleur <= 90)
                document.getElementById("info").innerHTML = "Plop !";
        }

        function anime() {
            let citation = document.getElementById('citation');
            for (let i in citation.childNodes)
                if (citation.childNodes[i].nodeName == 'p' || citation.childNodes[i].nodeName == "P")
                    anime_paragraphe(citation.childNodes[i]);
        }
    </script>

</head>

<body>

    <input type="button" value="Lancer l'animation!" onclick="anime()">
    <div id="citation">
        <p>un essai de texte</p>
        <p>avec un retour ï¿½ la ligne</p>
        <p>et un second !</p>
        <p>C'est chouette, non ?</p>
    </div>
    <div>
        <p id="info"></p>
    </div>

</body>

</html>